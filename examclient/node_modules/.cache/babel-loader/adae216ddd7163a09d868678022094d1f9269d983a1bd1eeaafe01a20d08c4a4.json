{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  name: 'Index',\n  data() {\n    return {\n      user: {},\n      examArr: [],\n      color: ['background-color: orange', 'background-color: cadetblue', 'background-color: coral', 'background-color: powderblue', 'background-color: olivedrab'],\n      paper: {},\n      emptyShow: true,\n      reloadCnt: true\n    };\n  },\n  created() {\n    this.user = this.$getSessionStorage('user');\n    this.$axios.post('ExamController/getExamById', this.$qs.stringify({\n      userId: this.user.userid\n    })).then(response => {\n      this.examArr = response.data;\n      var cnt = 0;\n      var i = 0;\n      for (let item of this.examArr) {\n        item.color = this.color[i];\n        i = i + 1;\n        i = i % 5;\n        this.paper = '';\n        if (item.examState == 1) {\n          cnt = cnt + 1;\n        }\n        this.$axios.post('PaperController/getPaperInfoById', this.$qs.stringify({\n          paperId: item.paperId\n        })).then(response => {\n          this.paper = response.data;\n          this.$set(item, 'score', item.choiceScore * this.paper.choiceAmount + item.fillingScore * this.paper.fillingAmount);\n        }).catch(error => {\n          console.error(error);\n        });\n      }\n      if (cnt < this.examArr.length) {\n        this.emptyShow = false;\n      }\n    }).catch(error => {\n      console.error(error);\n    });\n  },\n  watch: {\n    $route() {\n      if (this.$router.history.current.name == 'Index') {\n        this.$router.go();\n      }\n    }\n  },\n  methods: {\n    toExam(paperId, examId) {\n      this.$axios.post('ExamController/getExamByExamId', this.$qs.stringify({\n        examId: examId\n      })).then(response => {\n        var examTemp = response.data;\n        var tempDate = moment(examTemp.examDate, 'yyyy-MM-dd hh:mm').format();\n        var examDate = new Date(tempDate);\n        var now = new Date().format(date, 'yyyy-MM-dd hh:mm');\n        if (date < now) {\n          this.$router.push({\n            path: '/exam',\n            query: {\n              paperId: paperId,\n              examId: examId\n            }\n          });\n        } else {\n          alert('考试时间未到！');\n        }\n      }).catch(error => {\n        console.error(error);\n      });\n    },\n    toIndex() {\n      this.$router.push({\n        path: '/index'\n      });\n    },\n    toMyIndex() {\n      this.$router.push({\n        path: '/myIndex'\n      });\n    }\n  }\n};","map":{"version":3,"mappings":";AAmDA;EACAA;EACAC;IACA;MACAC;MACAC;MACAC,oCACA,+BACA,2BACA,gCACA;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACA;IAEA;MACAC;IACA;MACA;MAEA;MACA;MAEA;QACAC;QACAC;QACAA;QACA;QAEA;UACAC;QACA;QAEA;UACAC;QACA;UACA;UACA;QACA;UACAC;QACA;MACA;MAEA;QACA;MACA;IAEA;MACAA;IACA;EACA;EACAC;IACAC;MACA;QACA;MACA;IACA;EACA;EACAC;IACAC;MACA;QACAC;MACA;QACA;QACA;QACA;QACA;QAEA;UACA;YAAAC;YAAAC;cAAAR;cAAAM;YAAA;UAAA;QACA,OACA;UACAG;QACA;MACA;QACAR;MACA;IAGA;IACAS;MACA;QAAAH;MAAA;IACA;IACAI;MACA;QAAAJ;MAAA;IACA;EACA;AACA","names":["name","data","user","examArr","color","paper","emptyShow","reloadCnt","created","userId","item","i","cnt","paperId","console","watch","$route","methods","toExam","examId","path","query","alert","toIndex","toMyIndex"],"sourceRoot":"src/views","sources":["Index.vue"],"sourcesContent":["<template>\r\n\t<div class=\"wrapper\">\r\n\t\t<div class=\"header-box\">\r\n\t\t\t<p>考试科目</p>\r\n\t\t</div>\r\n\t\t\r\n\t\t<ul class=\"examList-box\">\r\n\t\t\t<div class=\"empty\" v-show=\"emptyShow\">\r\n\t\t\t\t当前无考试\r\n\t\t\t</div>\r\n\t\t\t\r\n\t\t\t<li v-for=\"item in examArr\" v-show=\"item.examState == 0\" @click=\"toExam(item.paperId, item.examId)\" :style=\"item.color\">\r\n\t\t\t\t<div class=\"left-box\">\r\n\t\t\t\t\t<div class=\"left-top\">\r\n\t\t\t\t\t\t<p>{{item.examName}}</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div class=\"left-bottom\">\r\n\t\t\t\t\t\t<p>{{item.examDate}}</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t<div class=\"right-box\">\r\n\t\t\t\t\t<div class=\"right-top\">\r\n\t\t\t\t\t\t<p>满分</p>\r\n\t\t\t\t\t\t<p>{{item.score}}</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div class=\"right-bottom\">\r\n\t\t\t\t\t\t<p>考试时长</p>\r\n\t\t\t\t\t\t<p>{{item.examTime}}min</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</li>\r\n\t\t</ul>\r\n\t\t\r\n\t\t<div class=\"bottom-box\">\r\n\t\t\t<div class=\"bottom-index\" @click=\"toIndex\">\r\n\t\t\t\t<i class=\"fa fa-list-alt\"></i>\r\n\t\t\t\t<p>首页</p>\r\n\t\t\t</div>\r\n\t\t\t\r\n\t\t\t<div class=\"bottom-myIndex\" @click=\"toMyIndex\">\r\n\t\t\t\t<i class=\"fa fa-user-o\"></i>\r\n\t\t\t\t<p>个人页面</p>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\n</template>\n\n<script>\r\n\texport default{\r\n\t\tname:'Index',\r\n\t\tdata(){\r\n\t\t\treturn{\r\n\t\t\t\tuser:{},\r\n\t\t\t\texamArr:[],\r\n\t\t\t\tcolor:['background-color: orange',\r\n\t\t\t\t'background-color: cadetblue',\r\n\t\t\t\t'background-color: coral',\r\n\t\t\t\t'background-color: powderblue',\r\n\t\t\t\t'background-color: olivedrab'],\r\n\t\t\t\tpaper:{},\r\n\t\t\t\temptyShow:true,\r\n\t\t\t\treloadCnt:true\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tthis.user = this.$getSessionStorage('user');\r\n\t\t\t\r\n\t\t\tthis.$axios.post('ExamController/getExamById', this.$qs.stringify({\r\n\t\t\t\tuserId:this.user.userid\r\n\t\t\t})).then(response=>{\r\n\t\t\t\tthis.examArr = response.data;\r\n\t\t\t\t\r\n\t\t\t\tvar cnt = 0;\r\n\t\t\t\tvar i = 0;\r\n\t\t\t\t\r\n\t\t\t\tfor (let item of this.examArr){\r\n\t\t\t\t\titem.color = this.color[i];\r\n\t\t\t\t\ti = i + 1;\r\n\t\t\t\t\ti = i % 5;\r\n\t\t\t\t\tthis.paper = '';\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (item.examState == 1){\r\n\t\t\t\t\t\tcnt = cnt + 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.$axios.post('PaperController/getPaperInfoById', this.$qs.stringify({\r\n\t\t\t\t\t\tpaperId:item.paperId\r\n\t\t\t\t\t})).then(response=>{\r\n\t\t\t\t\t\tthis.paper = response.data;\r\n\t\t\t\t\t\tthis.$set(item, 'score', item.choiceScore * this.paper.choiceAmount + item.fillingScore * this.paper.fillingAmount);\r\n\t\t\t\t\t}).catch(error=>{\r\n\t\t\t\t\t\tconsole.error(error);\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (cnt < this.examArr.length){\r\n\t\t\t\t\tthis.emptyShow = false;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}).catch(error=>{\r\n\t\t\t\tconsole.error(error);\r\n\t\t\t});\r\n\t\t},\r\n\t\twatch:{\r\n\t\t\t$route(){\r\n\t\t\t\tif (this.$router.history.current.name == 'Index'){\r\n\t\t\t\t\tthis.$router.go();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\ttoExam(paperId, examId){\r\n\t\t\t\tthis.$axios.post('ExamController/getExamByExamId', this.$qs.stringify({\r\n\t\t\t\t\texamId: examId\r\n\t\t\t\t})).then(response=>{\r\n\t\t\t\t\tvar examTemp = response.data;\r\n\t\t\t\t\tvar tempDate = moment(examTemp.examDate, 'yyyy-MM-dd hh:mm').format();\r\n\t\t\t\t\tvar examDate = new Date(tempDate);\r\n\t\t\t\t\tvar now = new Date().format(date, 'yyyy-MM-dd hh:mm');\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (date < now){\r\n\t\t\t\t\t\tthis.$router.push({path:'/exam', query:{paperId:paperId, examId:examId}});\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse{\r\n\t\t\t\t\t\talert('考试时间未到！');\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch(error=>{\r\n\t\t\t\t\tconsole.error(error);\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\ttoIndex(){\r\n\t\t\t\tthis.$router.push({path:'/index'});\r\n\t\t\t},\r\n\t\t\ttoMyIndex(){\r\n\t\t\t\tthis.$router.push({path:'/myIndex'});\r\n\t\t\t}\r\n\t\t}\r\n\t}\n</script>\n\n<style scoped>\r\n\t/* body{\r\n\t\tbackground-color: #005187;\r\n\t} */\r\n\t\r\n\t.wrapper{\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tbackground-color: #005187;\r\n\t\t-webkit-user-select: none;\r\n\t\tuser-select: none;\r\n\t}\r\n\t\r\n\t\r\n\t/******************************** header *****************************************/\r\n\t.wrapper .header-box{\r\n\t\tmargin: 0vw 8vw 2vw 8vw;\r\n\t\tpadding: 5vh 0vh 5vh 0vh;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\tcolor: #fff;\r\n\t\tfont-size: 10vw;\r\n\t\tfont-weight: bold;\r\n\t\tletter-spacing: 3vw;\r\n\t}\r\n\t\r\n\t\r\n\t/******************************** exam list *****************************************/\r\n\t.wrapper .examList-box{\r\n\t\tmin-height: 25vh;\r\n\t\tborder-radius: 8vw 8vw 0vw 0vw;\r\n\t\tpadding: 10vw 8vw 50vh 8vw;\r\n\t\tbackground-color: #f2f2f6;\r\n\t}\r\n\t\r\n\t.wrapper .examList-box .empty{\r\n\t\tpadding-top: 5vh;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\tcolor: #b2b2b2;\r\n\t\tfont-size: 6vw;\r\n\t\tfont-weight: bold;\r\n\t}\r\n\t\r\n\t.wrapper .examList-box li{\r\n\t\twidth: 84vw;\r\n\t\theight: 26vw;\r\n\t\tbox-sizing: border-box;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\tpadding: 4vw;\r\n\t\tmargin-bottom: 4vw;\r\n\t\tborder-radius: 4vw;\r\n\t\t/* background-color: orange; */\r\n\t\tcolor: #fff;\r\n\t\tfont-size: 4vw;\r\n\t\tfont-weight: bold;\r\n\t\tcursor: pointer;\r\n\t}\r\n\t\r\n\t/* .wrapper .examList-box li:last-child{\r\n\t\tbackground-color: cadetblue;\r\n\t} */\r\n\t\r\n\t.wrapper .examList-box li .left-box{\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tjustify-content: space-between;\r\n\t}\r\n\t\r\n\t.wrapper .examList-box li .left-box .left-top{\r\n\t\tfont-size: 5vw;\r\n\t}\r\n\t\r\n\t.wrapper .examList-box li .right-box{\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tjustify-content: space-between;\r\n\t}\r\n\t\r\n\t.wrapper .examList-box li .right-box .right-top{\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\tjustify-content: flex-end;\r\n\t\talign-items: flex-start;\r\n\t}\r\n\t\r\n\t.wrapper .examList-box li .right-box .right-top p:first-child{\r\n\t\tfont-size: 3vw;\r\n\t}\r\n\t\r\n\t.wrapper .examList-box li .right-box .right-top p:last-child{\r\n\t\tdisplay: flex;\r\n\t\talign-items: flex-start;\r\n\t\tfont-size: 4vw;\r\n\t\tfont-style: italic;\r\n\t}\r\n\t\r\n\t.wrapper .examList-box li .right-box .right-bottom{\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tjustify-content: flex-end;\r\n\t\talign-items: flex-end;\r\n\t}\r\n\t\r\n\t.wrapper .examList-box li .right-box .right-bottom p:first-child{\r\n\t\tfont-size: 3vw;\r\n\t}\r\n\t\r\n\t.wrapper .examList-box li .right-box .right-bottom p:last-child{\r\n\t\tfont-size: 4vw;\r\n\t\tfont-style: italic;\r\n\t}\r\n\t\r\n\t/*********************************** bottom ***********************************/\r\n\t.wrapper .bottom-box{\r\n\t\twidth: 100%;\r\n\t\theight: 16vw;\r\n\t\tborder-top: solid 1px #b2b2b2;\r\n\t\tbackground: rgba(247, 247, 247, 0.6);\r\n\t\tbackdrop-filter: blur(40vw);\r\n\t\t\r\n\t\tposition: fixed;\r\n\t\tleft: 0;\r\n\t\tbottom: 0;\r\n\t\t\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-around;\r\n\t\talign-items: center;\r\n\t}\r\n\t\r\n\t.wrapper .bottom-box .bottom-index{\r\n\t\tfont-size: 2.8vw;\r\n\t\tfont-weight: bold;\r\n\t\tcolor: #3478f6;\r\n\t\tflex: 1;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\tuser-select: none;\r\n\t\tcursor: pointer;\r\n\t}\r\n\t\r\n\t.wrapper .bottom-box .bottom-myIndex{\r\n\t\tfont-size: 2.8vw;\r\n\t\tfont-weight: bold;\r\n\t\tcolor: #959595;\r\n\t\tflex: 1;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\tuser-select: none;\r\n\t\tcursor: pointer;\r\n\t}\r\n\t\r\n\t.wrapper .bottom-box i{\r\n\t\tfont-size: 5vw;\r\n\t\tmargin-bottom: 1.2vw;\r\n\t}\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}