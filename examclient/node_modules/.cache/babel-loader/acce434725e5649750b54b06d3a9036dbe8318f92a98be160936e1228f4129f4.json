{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  name: 'Exam',\n  data() {\n    return {\n      examId: this.$route.query.examId,\n      paperId: this.$route.query.paperId,\n      exam: {},\n      paper: {},\n      choiceArr: [],\n      fillingArr: [],\n      user: {},\n      number: 1,\n      selected: [],\n      Submissions: [],\n      timer: '',\n      seconds: 0,\n      minutes: 0,\n      leftSecondes: 0,\n      leftMinutes: 0\n    };\n  },\n  created() {\n    this.user = this.$getSessionStorage('user');\n    this.$axios.post('ExamController/getExamByExamId', this.$qs.stringify({\n      examId: this.examId\n    })).then(response => {\n      this.exam = response.data;\n      this.leftMinutes = this.exam.examTime;\n    }).catch(error => {\n      console.error(error);\n    });\n    this.$axios.post('PaperController/getPaperInfoById', this.$qs.stringify({\n      paperId: this.paperId\n    })).then(response => {\n      this.paper = response.data;\n      this.$set(this.exam, 'score', this.exam.choiceScore * this.paper.choiceAmount + this.exam.fillingScore * this.paper.fillingAmount);\n    }).catch(error => {\n      console.error(error);\n    });\n    this.$axios.post('PaperController/getPaperChoice', this.$qs.stringify({\n      paperId: this.paperId\n    })).then(response => {\n      this.choiceArr = response.data;\n      for (let item of this.choiceArr) {\n        // item.isA = false;\n        // item.isB = false;\n        // item.isC = false;\n        // item.isD = false;\n        this.$set(item, 'isA', false);\n        this.$set(item, 'isB', false);\n        this.$set(item, 'isC', false);\n        this.$set(item, 'isD', false);\n        this.$set(item, 'No', this.number);\n        this.number = this.number + 1;\n      }\n    }).catch(error => {\n      console.error(error);\n    });\n    this.$axios.post('PaperController/getPaperFilling', this.$qs.stringify({\n      paperId: this.paperId\n    })).then(response => {\n      this.fillingArr = response.data;\n      for (let item of this.fillingArr) {\n        item.answer = '';\n        this.$set(item, 'No', this.number);\n        this.number = this.number + 1;\n      }\n    }).catch(error => {\n      console.error(error);\n    });\n    this.start();\n  },\n  mounted() {\n    var textareaArr = document.getElementsByName(\"fillIn\");\n    console.log(textareaArr.length);\n    for (let i = 0; i < textareaArr.length; i++) {\n      textareaArr[i].addEventListener('input', e => {\n        // textarea.style.height = e.target.scrollHeight > 100 ? e.target.scrollHeight + 'px' : '100px';\n        textareaArr[i].style.height = '100px';\n        textareaArr[i].style.height = e.target.scrollHeight + 'px';\n      });\n    }\n  },\n  methods: {\n    toIndex() {\n      var result = confirm(\"您确认退出考试吗？\");\n      if (result) {\n        this.$router.push({\n          path: '/index'\n        });\n      }\n    },\n    selectA(item) {\n      // item.isA = true;\n      // item.isB = false;\n      // item.isC = false;\n      // item.isD = false;\n      this.$set(item, 'isA', true);\n      this.$set(item, 'isB', false);\n      this.$set(item, 'isC', false);\n      this.$set(item, 'isD', false);\n      item.answer = item.optionA;\n      if (item.isA) {\n        console.log('A');\n      }\n    },\n    selectB(item) {\n      // item.isA = false;\n      // item.isB = true;\n      // item.isC = false;\n      // item.isD = false;\n      this.$set(item, 'isA', false);\n      this.$set(item, 'isB', true);\n      this.$set(item, 'isC', false);\n      this.$set(item, 'isD', false);\n      item.answer = item.optionB;\n      if (item.isB) {\n        console.log('B');\n      }\n    },\n    selectC(item) {\n      // item.isA = false;\n      // item.isB = false;\n      // item.isC = true;\n      // item.isD = false;\n      this.$set(item, 'isA', false);\n      this.$set(item, 'isB', false);\n      this.$set(item, 'isC', true);\n      this.$set(item, 'isD', false);\n      item.answer = item.optionC;\n      if (item.isC) {\n        console.log('C');\n      }\n    },\n    selectD(item) {\n      // item.isA = false;\n      // item.isB = false;\n      // item.isC = false;\n      // item.isD = true;\n      this.$set(item, 'isA', false);\n      this.$set(item, 'isB', false);\n      this.$set(item, 'isC', false);\n      this.$set(item, 'isD', true);\n      item.answer = item.optionD;\n      if (item.isD) {\n        console.log(item.answer);\n      }\n    },\n    toSubmit() {\n      var result = confirm(\"您确认提交试卷吗？\");\n      if (result) {\n        for (let item of this.choiceArr) {\n          var Submission = {};\n          Submission.questionId = item.questionId;\n          Submission.examId = this.examId;\n          Submission.answer = item.answer;\n          Submission.type = item.type;\n          console.log(Submission);\n          this.Submissions.push(Submission);\n        }\n        for (let item of this.fillingArr) {\n          var Submission = {};\n          Submission.questionId = item.questionId;\n          Submission.examId = this.examId;\n          Submission.answer = item.answer;\n          Submission.type = item.type;\n          console.log(Submission);\n          this.Submissions.push(Submission);\n        }\n        this.$axios.post('SubmissionController/submit', {\n          submissions: this.Submissions\n        }).then(response => {\n          var rows = response.data;\n          if (rows > 0) {\n            alert('提交成功！');\n            this.$axios.post('SubmissionController/grade', this.$qs.stringify({\n              examId: this.examId\n            })).then(response => {\n              var getGrade = response.data;\n              if (getGrade >= 0) {\n                console.log('打分成功');\n              } else {\n                console.log('打分失败');\n              }\n            }).catch(error => {\n              console.error(error);\n            });\n            this.$axios.post('ExamController/updateExamState', this.$qs.stringify({\n              examId: this.examId\n            })).then(response => {\n              var getState = response.data;\n              if (getState > 0) {\n                console.log('修改考试状态成功');\n              } else {\n                console.log('修改考试状态失败');\n              }\n            }).catch(error => {\n              console.error(error);\n            });\n            this.$router.push({\n              path: '/index'\n            });\n          } else {\n            alert('提交失败！');\n          }\n        }).catch(error => {\n          console.error(error);\n        });\n        this.Submissions = [];\n      }\n    },\n    start() {\n      this.timer = setInterval(this.vauleAdd, 1000);\n    },\n    vauleAdd() {\n      this.seconds++;\n      if (this.seconds == 60) {\n        this.minutes++;\n        this.seconds = 0;\n      }\n      if (this.minutes == this.exam.examTime) {\n        this.stop();\n      }\n    },\n    stop() {\n      clearInterval(this.timer);\n    }\n  },\n  beforeDestroy() {\n    this.seconds = 0;\n    this.timer = 0;\n    clearInterval(this.timer);\n  }\n};","map":{"version":3,"mappings":";AAgGA;EACAA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACA;IAEA;MACAf;IACA;MACA;MACA;IACA;MACAgB;IACA;IAEA;MACAf;IACA;MACA;MACA;IACA;MACAe;IACA;IAIA;MACAf;IACA;MACA;MACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QAEA;QACA;MACA;IACA;MACAe;IACA;IAEA;MACAf;IACA;MACA;MACA;QACAgB;QACA;QACA;MACA;IACA;MACAD;IACA;IAEA;EACA;EACAE;IACA;IAEAF;IAEA;MACAG;QACA;QACAA;QACAA;MACA;IACA;EACA;EACAC;IACAC;MACA;MAEA;QACA;UAAAC;QAAA;MACA;IACA;IACAC;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MAEAN;MAEA;QACAD;MACA;IACA;IACAQ;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MAEAP;MAEA;QACAD;MACA;IACA;IACAS;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MAEAR;MAEA;QACAD;MACA;IACA;IACAU;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MAEAT;MAEA;QACAD;MACA;IACA;IACAW;MACA;MAEA;QACA;UACA;UACAC;UACAA;UACAA;UACAA;UAEAZ;UACA;QACA;QAEA;UACA;UACAY;UACAA;UACAA;UACAA;UAEAZ;UACA;QACA;QAEA;UACAa;QACA;UACA;UACA;YACAC;YAEA;cACA9B;YACA;cACA;cAEA;gBACAgB;cACA,OACA;gBACAA;cACA;YACA;cACAA;YACA;YAEA;cACAhB;YACA;cACA;cAEA;gBACAgB;cACA,OACA;gBACAA;cACA;YACA;cACAA;YACA;YAEA;cAAAM;YAAA;UACA,OACA;YACAQ;UACA;QACA;UACAd;QACA;QAEA;MACA;IACA;IACAe;MACA;IACA;IACAC;MACA;MACA;QACA;QACA;MACA;MAEA;QACA;MACA;IACA;IACAC;MACAC;IACA;EACA;EACAC;IACA;IACA;IACAD;EACA;AACA","names":["name","data","examId","paperId","exam","paper","choiceArr","fillingArr","user","number","selected","Submissions","timer","seconds","minutes","leftSecondes","leftMinutes","created","console","item","mounted","textareaArr","methods","toIndex","path","selectA","selectB","selectC","selectD","toSubmit","Submission","submissions","alert","start","vauleAdd","stop","clearInterval","beforeDestroy"],"sourceRoot":"src/views","sources":["Exam.vue"],"sourcesContent":["<template>\r\n\t<div class=\"wrapper\">\r\n\t\t<div class=\"header-box\">\r\n\t\t\t<div class=\"header-top\">\r\n\t\t\t\t<p>考试中</p>\r\n\t\t\t</div>\r\n\t\t\t\r\n\t\t\t<div class=\"header-bottom\">\r\n\t\t\t\t<div class=\"name-1\">\r\n\t\t\t\t\t<div class=\"name-1-top\">\r\n\t\t\t\t\t\t<p>{{paper.paperName}}</p>\r\n\t\t\t\t\t\t<div class=\"name-1-top-right\">\r\n\t\t\t\t\t\t\t<p>满分</p>\r\n\t\t\t\t\t\t\t<p>{{exam.score}}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"name-1-bottom\">\r\n\t\t\t\t\t\t<p>2022-12-24 18:30:00</p>\r\n\t\t\t\t\t\t<div class=\"name-1-bottom-right\">\r\n\t\t\t\t\t\t\t<p>考试时长</p>\r\n\t\t\t\t\t\t\t<p>{{exam.examTime}}min</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t<div class=\"name-2\">\r\n\t\t\t\t\t<div class=\"name-2-top\">\r\n\t\t\t\t\t\t<p>已开始答题</p>\r\n\t\t\t\t\t\t<div class=\"time\">\r\n\t\t\t\t\t\t\t<p v-show=\"minutes > 0\">{{minutes}}min</p>\r\n\t\t\t\t\t\t\t<p>&ensp;{{seconds}}s</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"name-2-bottom\">\r\n\t\t\t\t\t\t<p>距离考试结束还有</p>\r\n\t\t\t\t\t\t<div class=\"time\">\r\n\t\t\t\t\t\t\t<p>{{leftMinutes}}min</p>\r\n\t\t\t\t\t\t\t<p v-show=\"leftMinutes < exam.examTime\">&ensp;{{leftSecondes}}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t\r\n\t\t<div class=\"questionList-box\">\r\n\t\t\t<div class=\"choose-question\" v-for=\"item in choiceArr\">\r\n\t\t\t\t<div class=\"question-box\">\r\n\t\t\t\t\t{{item.No}}. {{item.content}}\r\n\t\t\t\t</div>\r\n\t\t\t\t<ul class=\"answer-box\">\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<div class=\"choose\" @click=\"selectA(item)\" :class=\"{'selected':item.isA, 'notSelected':!item.isA}\" >A</div>\r\n\t\t\t\t\t\t<p>{{item.optionA}}</p>\r\n\t\t\t\t\t</li>\r\n\t\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<div class=\"choose\" @click=\"selectB(item)\" :class=\"{'selected':item.isB, 'notSelected':!item.isB}\">B</div>\r\n\t\t\t\t\t\t<p>{{item.optionB}}</p>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<div class=\"choose\" @click=\"selectC(item)\" :class=\"{'selected':item.isC, 'notSelected':!item.isC}\">C</div>\r\n\t\t\t\t\t\t<p>{{item.optionC}}</p>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<div class=\"choose\" @click=\"selectD(item)\" :class=\"{'selected':item.isD, 'notSelected':!item.isD}\">D</div>\r\n\t\t\t\t\t\t<p>{{item.optionD}}</p>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t</ul>\r\n\t\t\t</div>\r\n\t\t\t\r\n\t\t\t<div class=\"fillIn-question\" v-for=\"item in fillingArr\">\r\n\t\t\t\t<div class=\"question-box\">\r\n\t\t\t\t\t{{item.No}}. {{item.content}}\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t<div class=\"content-box\">\r\n\t\t\t\t\t<textarea class=\"fillIn\" v-model=\"item.answer\"></textarea>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t\r\n\t\t<div class=\"button-box\">\r\n\t\t\t<div class=\"button-cancel\" @click=\"toIndex\">\r\n\t\t\t\t退出考试\r\n\t\t\t</div>\r\n\t\t\t\r\n\t\t\t<div class=\"button-submit\" @click=\"toSubmit\">\r\n\t\t\t\t提交试卷\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\n</template>\n\n<script>\r\n\texport default{\r\n\t\tname: 'Exam',\r\n\t\tdata(){\r\n\t\t\treturn{\r\n\t\t\t\texamId: this.$route.query.examId,\r\n\t\t\t\tpaperId: this.$route.query.paperId,\r\n\t\t\t\texam:{},\r\n\t\t\t\tpaper:{},\r\n\t\t\t\tchoiceArr:[],\r\n\t\t\t\tfillingArr:[],\r\n\t\t\t\tuser:{},\r\n\t\t\t\tnumber:1,\r\n\t\t\t\tselected:[],\r\n\t\t\t\tSubmissions:[],\r\n\t\t\t\ttimer:'',\r\n\t\t\t\tseconds:0,\r\n\t\t\t\tminutes:0,\r\n\t\t\t\tleftSecondes:0,\r\n\t\t\t\tleftMinutes:0\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated(){\r\n\t\t\tthis.user = this.$getSessionStorage('user');\r\n\t\t\t\r\n\t\t\tthis.$axios.post('ExamController/getExamByExamId', this.$qs.stringify({\r\n\t\t\t\texamId: this.examId\r\n\t\t\t})).then(response=>{\r\n\t\t\t\tthis.exam = response.data;\r\n\t\t\t\tthis.leftMinutes = this.exam.examTime;\r\n\t\t\t}).catch(error=>{\r\n\t\t\t\tconsole.error(error);\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\tthis.$axios.post('PaperController/getPaperInfoById', this.$qs.stringify({\r\n\t\t\t\tpaperId: this.paperId\r\n\t\t\t})).then(response=>{\r\n\t\t\t\tthis.paper = response.data;\r\n\t\t\t\tthis.$set(this.exam,'score', this.exam.choiceScore * this.paper.choiceAmount + this.exam.fillingScore * this.paper.fillingAmount);\r\n\t\t\t}).catch(error=>{\r\n\t\t\t\tconsole.error(error);\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tthis.$axios.post('PaperController/getPaperChoice', this.$qs.stringify({\r\n\t\t\t\tpaperId: this.paperId\r\n\t\t\t})).then(response=>{\r\n\t\t\t\tthis.choiceArr = response.data;\r\n\t\t\t\tfor(let item of this.choiceArr){\r\n\t\t\t\t\t// item.isA = false;\r\n\t\t\t\t\t// item.isB = false;\r\n\t\t\t\t\t// item.isC = false;\r\n\t\t\t\t\t// item.isD = false;\r\n\t\t\t\t\tthis.$set(item, 'isA', false);\r\n\t\t\t\t\tthis.$set(item, 'isB', false);\r\n\t\t\t\t\tthis.$set(item, 'isC', false);\r\n\t\t\t\t\tthis.$set(item, 'isD', false);\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.$set(item,'No', this.number);\r\n\t\t\t\t\tthis.number = this.number + 1;\r\n\t\t\t\t}\r\n\t\t\t}).catch(error=>{\r\n\t\t\t\tconsole.error(error);\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\tthis.$axios.post('PaperController/getPaperFilling', this.$qs.stringify({\r\n\t\t\t\tpaperId: this.paperId\r\n\t\t\t})).then(response=>{\r\n\t\t\t\tthis.fillingArr = response.data;\r\n\t\t\t\tfor(let item of this.fillingArr){\r\n\t\t\t\t\titem.answer = '';\r\n\t\t\t\t\tthis.$set(item,'No', this.number);\r\n\t\t\t\t\tthis.number = this.number + 1;\r\n\t\t\t\t}\r\n\t\t\t}).catch(error=>{\r\n\t\t\t\tconsole.error(error);\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\tthis.start();\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tvar textareaArr = document.getElementsByName(\"fillIn\");\r\n\t\t\t\r\n\t\t\tconsole.log(textareaArr.length);\r\n\t\t\t\r\n\t\t\tfor (let i = 0; i < textareaArr.length; i++){\r\n\t\t\t\ttextareaArr[i].addEventListener('input', (e)=>{\r\n\t\t\t\t\t// textarea.style.height = e.target.scrollHeight > 100 ? e.target.scrollHeight + 'px' : '100px';\r\n\t\t\t\t\ttextareaArr[i].style.height = '100px';\r\n\t\t\t\t\ttextareaArr[i].style.height = e.target.scrollHeight + 'px';\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\ttoIndex(){\r\n\t\t\t\tvar result = confirm(\"您确认退出考试吗？\");\r\n\t\t\t\t\r\n\t\t\t\tif (result){\r\n\t\t\t\t\tthis.$router.push({path:'/index'});\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tselectA(item){\r\n\t\t\t\t// item.isA = true;\r\n\t\t\t\t// item.isB = false;\r\n\t\t\t\t// item.isC = false;\r\n\t\t\t\t// item.isD = false;\r\n\t\t\t\tthis.$set(item, 'isA', true);\r\n\t\t\t\tthis.$set(item, 'isB', false);\r\n\t\t\t\tthis.$set(item, 'isC', false);\r\n\t\t\t\tthis.$set(item, 'isD', false);\r\n\t\t\t\t\r\n\t\t\t\titem.answer = item.optionA;\r\n\t\t\t\t\r\n\t\t\t\tif (item.isA){\r\n\t\t\t\t\tconsole.log('A');\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tselectB(item){\r\n\t\t\t\t// item.isA = false;\r\n\t\t\t\t// item.isB = true;\r\n\t\t\t\t// item.isC = false;\r\n\t\t\t\t// item.isD = false;\r\n\t\t\t\tthis.$set(item, 'isA', false);\r\n\t\t\t\tthis.$set(item, 'isB', true);\r\n\t\t\t\tthis.$set(item, 'isC', false);\r\n\t\t\t\tthis.$set(item, 'isD', false);\r\n\t\t\t\t\r\n\t\t\t\titem.answer = item.optionB;\r\n\t\t\t\t\r\n\t\t\t\tif (item.isB){\r\n\t\t\t\t\tconsole.log('B');\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tselectC(item){\r\n\t\t\t\t// item.isA = false;\r\n\t\t\t\t// item.isB = false;\r\n\t\t\t\t// item.isC = true;\r\n\t\t\t\t// item.isD = false;\r\n\t\t\t\tthis.$set(item, 'isA', false);\r\n\t\t\t\tthis.$set(item, 'isB', false);\r\n\t\t\t\tthis.$set(item, 'isC', true);\r\n\t\t\t\tthis.$set(item, 'isD', false);\r\n\t\t\t\t\r\n\t\t\t\titem.answer = item.optionC;\r\n\t\t\t\t\r\n\t\t\t\tif (item.isC){\r\n\t\t\t\t\tconsole.log('C');\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tselectD(item){\r\n\t\t\t\t// item.isA = false;\r\n\t\t\t\t// item.isB = false;\r\n\t\t\t\t// item.isC = false;\r\n\t\t\t\t// item.isD = true;\r\n\t\t\t\tthis.$set(item, 'isA', false);\r\n\t\t\t\tthis.$set(item, 'isB', false);\r\n\t\t\t\tthis.$set(item, 'isC', false);\r\n\t\t\t\tthis.$set(item, 'isD', true);\r\n\t\t\t\t\r\n\t\t\t\titem.answer = item.optionD;\r\n\t\t\t\t\r\n\t\t\t\tif (item.isD){\r\n\t\t\t\t\tconsole.log(item.answer);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\ttoSubmit(){\r\n\t\t\t\tvar result = confirm(\"您确认提交试卷吗？\");\r\n\t\t\t\t\r\n\t\t\t\tif (result){\r\n\t\t\t\t\tfor (let item of this.choiceArr){\r\n\t\t\t\t\t\tvar Submission = {};\r\n\t\t\t\t\t\tSubmission.questionId = item.questionId;\r\n\t\t\t\t\t\tSubmission.examId = this.examId;\r\n\t\t\t\t\t\tSubmission.answer = item.answer;\r\n\t\t\t\t\t\tSubmission.type = item.type;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tconsole.log(Submission);\t\t\t\t\t\r\n\t\t\t\t\t\tthis.Submissions.push(Submission);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tfor (let item of this.fillingArr){\r\n\t\t\t\t\t\tvar Submission = {};\r\n\t\t\t\t\t\tSubmission.questionId = item.questionId;\r\n\t\t\t\t\t\tSubmission.examId = this.examId;\r\n\t\t\t\t\t\tSubmission.answer = item.answer;\r\n\t\t\t\t\t\tSubmission.type = item.type;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tconsole.log(Submission);\r\n\t\t\t\t\t\tthis.Submissions.push(Submission);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.$axios.post('SubmissionController/submit', {\r\n\t\t\t\t\t\tsubmissions: this.Submissions\r\n\t\t\t\t\t}).then(response=>{\r\n\t\t\t\t\t\tvar rows = response.data;\r\n\t\t\t\t\t\tif (rows > 0){\r\n\t\t\t\t\t\t\talert('提交成功！');\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tthis.$axios.post('SubmissionController/grade', this.$qs.stringify({\r\n\t\t\t\t\t\t\t\texamId:this.examId\r\n\t\t\t\t\t\t\t})).then(response=>{\r\n\t\t\t\t\t\t\t\tvar getGrade = response.data;\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tif (getGrade >= 0){\r\n\t\t\t\t\t\t\t\t\tconsole.log('打分成功');\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\telse{\r\n\t\t\t\t\t\t\t\t\tconsole.log('打分失败');\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}).catch(error=>{\r\n\t\t\t\t\t\t\t\tconsole.error(error);\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tthis.$axios.post('ExamController/updateExamState', this.$qs.stringify({\r\n\t\t\t\t\t\t\t\texamId:this.examId\r\n\t\t\t\t\t\t\t})).then(response=>{\r\n\t\t\t\t\t\t\t\tvar getState = response.data;\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tif (getState > 0){\r\n\t\t\t\t\t\t\t\t\tconsole.log('修改考试状态成功');\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\telse{\r\n\t\t\t\t\t\t\t\t\tconsole.log('修改考试状态失败');\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}).catch(error=>{\r\n\t\t\t\t\t\t\t\tconsole.error(error);\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tthis.$router.push({path:'/index'});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse{\r\n\t\t\t\t\t\t\talert('提交失败！');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}).catch(error=>{\r\n\t\t\t\t\t\tconsole.error(error);\r\n\t\t\t\t\t});\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.Submissions = [];\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tstart(){\r\n\t\t\t\tthis.timer = setInterval(this.vauleAdd, 1000);\r\n\t\t\t},\r\n\t\t\tvauleAdd(){\r\n\t\t\t\tthis.seconds++;\r\n\t\t\t\tif (this.seconds == 60){\r\n\t\t\t\t\tthis.minutes++;\r\n\t\t\t\t\tthis.seconds = 0;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (this.minutes == this.exam.examTime){\r\n\t\t\t\t\tthis.stop();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tstop(){\r\n\t\t\t\tclearInterval(this.timer);\r\n\t\t\t}\r\n\t\t},\r\n\t\tbeforeDestroy() {\r\n\t\t\tthis.seconds = 0;\r\n\t\t\tthis.timer = 0;\r\n\t\t\tclearInterval(this.timer);\r\n\t\t}\r\n\t}\n</script>\n\n<style scoped>\r\n\t/* body{\r\n\t\tbackground-color: #005187;\r\n\t} */\r\n\t\r\n\t.wrapper{\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tbackground-color: #005187;\r\n\t\t-webkit-user-select: none;\r\n\t\tuser-select: none;\r\n\t}\r\n\t\r\n\t\r\n\t/******************************** header *****************************************/\r\n\t.wrapper .header-box{\r\n\t\tmargin: 0vw 8vw 2vw 8vw;\r\n\t\tpadding: 5vh 0vh 5vh 0vh;\r\n\t\tcolor: #fff;\r\n\t}\r\n\t\r\n\t.wrapper .header-box .header-top{\r\n\t\tpadding: 0vh 0vh 2vh 0vh;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\tfont-size: 10vw;\r\n\t\tfont-weight: bold;\r\n\t\tletter-spacing: 3vw;\r\n\t}\r\n\t\r\n\t.wrapper .header-box .header-bottom{\r\n\t\tpadding: 0vw 5vw 0vw 5vw;\r\n\t\tfont-size: 3.5vw;\r\n\t}\r\n\t\r\n\t.wrapper .header-box .header-bottom .name-1{\r\n\t\tmargin-bottom: 2vw;\r\n\t}\r\n\t\r\n\t.wrapper .header-box .header-bottom .name-1 .name-1-top{\r\n\t\tpadding-bottom: 2vw;\r\n\t\tborder-bottom: soli 1px #fff;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t}\r\n\t\r\n\t.wrapper .header-box .header-bottom .name-1 .name-1-top p{\r\n\t\tfont-weight: bold;\r\n\t}\r\n\t\r\n\t.wrapper .header-box .header-bottom .name-1 .name-1-top .name-1-top-right{\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t}\r\n\t\r\n\t.wrapper .header-box .header-bottom .name-1 .name-1-bottom{\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t}\r\n\t\r\n\t.wrapper .header-box .header-bottom .name-1 .name-1-bottom p{\r\n\t\tfont-weight: bold;\r\n\t}\r\n\t\r\n\t.wrapper .header-box .header-bottom .name-1 .name-1-bottom .name-1-bottom-right{\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t}\r\n\t\r\n\t.wrapper .header-box .header-bottom .name-1 p:last-child{\r\n\t\tfont-weight: bold;\r\n\t\tfont-style: italic;\r\n\t}\r\n\t\r\n\t.wrapper .header-box .header-bottom .name-2{\r\n\t\tmargin-top: 4vw;\r\n\t\tpadding-top: 4vw;\r\n\t\tborder-top: solid 1px #fff;\r\n\t}\r\n\t\r\n\t.wrapper .header-box .header-bottom .name-2 .time{\r\n\t\tdisplay: flex;\r\n\t\tfont-weight: bold;\r\n\t\tfont-style: italic;\r\n\t}\r\n\t\r\n\t.wrapper .header-box .header-bottom .name-2 .name-2-top{\r\n\t\tpadding-bottom: 2vw;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t}\r\n\t\r\n\t.wrapper .header-box .header-bottom .name-2 .name-2-bottom{\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t}\r\n\t\r\n\t/******************************** question list *****************************************/\r\n\t.wrapper .questionList-box{\r\n\t\tmin-height: 50vh;\r\n\t\tborder-radius: 8vw 8vw 0vw 0vw;\r\n\t\tpadding: 10vw 8vw 10.7vh 8vw;\r\n\t\tbackground-color: #f2f2f6;\r\n\t\tcolor: #000;\r\n\t\tfont-size: 5vw;\r\n\t}\r\n\t\r\n\t.wrapper .questionList-box .choose-question{\r\n\t\tpadding-bottom: 4vw;\r\n\t\tmargin-bottom: 5vw;\r\n\t\tborder-bottom: solid 2px #565656;\r\n\t}\r\n\t\r\n\t.wrapper .questionList-box .choose-question .question-box{\r\n\t\tfont-weight: bold;\r\n\t}\r\n\t\r\n\t.wrapper .questionList-box .choose-question .answer-box{\r\n\t\tmargin-top: 2vw;\r\n\t}\r\n\t\r\n\t.wrapper .questionList-box .choose-question .answer-box li{\r\n\t\tmargin-bottom: 1vw;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tfont-size: 4.5vw;\r\n\t}\r\n\t\r\n\t.wrapper .questionList-box .choose-question .answer-box li .choose{\r\n\t\twidth: 5vw;\r\n\t\theight: 5vw;\r\n\t\tborder-radius: 5vw;\r\n\t\tborder: solid 3px #565656;\r\n\t\tcolor: #565656;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\tfont-size: 4vw;\r\n\t\tfont-weight: bold;\r\n\t\tcursor: pointer;\r\n\t}\r\n\t\r\n\t.wrapper .questionList-box .choose-question .answer-box li .choose.selected{\r\n\t\tbackground-color: #005187;\r\n\t\tborder: solid 3px #005187;\r\n\t\tcolor: #fff;\r\n\t}\r\n\t\r\n\t.wrapper .questionList-box .choose-question .answer-box li .choose.notSelected{\r\n\t\tbackground-color: none;\r\n\t\tborder: solid 3px #565656;\r\n\t\tcolor: #565656;\r\n\t}\r\n\t\r\n\t.wrapper .questionList-box .choose-question .answer-box li p{\r\n\t\tmargin-left: 5vw;\r\n\t}\r\n\t\r\n\t.wrapper .questionList-box .fillIn-question{\r\n\t\tpadding-bottom: 5vw;\r\n\t\tmargin-bottom: 5vw;\r\n\t\tborder-bottom: solid 2px #565656;\r\n\t}\r\n\t\r\n\t.wrapper .questionList-box .fillIn-question .question-box{\r\n\t\tfont-weight: bold;\r\n\t}\r\n\t\r\n\t.wrapper .questionList-box .fillIn-question .content-box{\r\n\t\tmargin-top: 2vw;\r\n\t}\r\n\t\r\n\t.wrapper .questionList-box .fillIn-question .content-box textarea{\r\n\t\t/* cols: 20;\r\n\t\trows: 10; */\r\n\t\twidth: 84vw;\r\n\t\tmin-height: 100px;\r\n\t\tmargin-top: 2vw;\r\n\t\toutline-style: none;\r\n\t\tborder: 0px;\r\n\t\tborder-radius: 2vw;\r\n\t\tfont-size: 4.5vw;\r\n\t\tfont-family: \"微软雅黑\";\r\n\t\ttext-indent: 2px;\r\n\t\tresize: none;\r\n\t}\r\n\t\r\n\t/******************************** button *****************************************/\r\n\t.wrapper .button-box{\r\n\t\twidth: 84vw;\r\n\t\tmargin: 0vw 8vw 8vw 8vw;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\tposition: fixed;\r\n\t\tleft: 0;\r\n\t\tbottom: 0;\r\n\t\tcolor: #fff;\r\n\t\tfont-size: 8vw;\r\n\t\tfont-weight: bold;\r\n\t}\r\n\t\r\n\t.wrapper .button-box .button-cancel{\r\n\t\twidth: 36vw;\r\n\t\theight: 12vw;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\tborder-radius: 1vw;\r\n\t\tbackground-color: darkgrey;\r\n\t\tfont-size: 5vw;\r\n\t\tletter-spacing: 0vw;\r\n\t\tcursor: pointer;\r\n\t}\r\n\t\r\n\t.wrapper .button-box .button-submit{\r\n\t\twidth: 36vw;\r\n\t\theight: 12vw;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\tborder-radius: 1vw;\r\n\t\tbackground-color: limegreen;\r\n\t\tfont-size: 5vw;\r\n\t\tletter-spacing: 0vw;\r\n\t\tcursor: pointer;\r\n\t}\n</style>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}